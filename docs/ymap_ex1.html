<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ルート地図</title>
<style>
html {
  height: 100%;
}
body {
  margin: 0;
  height: 100%;
}
#map {
  width: 100%;
  height: 100%;
/*
  position: absolute;
  top: 0;
  bottom: 0;
*/
}
</style>
</head>
<body>
<div id="map"></div>
<script src="https://map.yahooapis.jp/js/V1/jsapi?appid=dj00aiZpPWR0cjBWa012YVBQNiZzPWNvbnN1bWVyc2VjcmV0Jng9ZDU-"></script>
<script>
var param = {
  lon: 138.723460, lat: 35.931374, zoom: 14,
  url: 'https://anineco.github.io/gpx2geojson/example/routemap.min.kml'
};
var ma = location.search.substr(1).split('&').forEach(function(ma) {
  var s = ma.split('=');
  param[s[0]] = decodeURIComponent(s[1]);
});
window.addEventListener('DOMContentLoaded', function() {
  var map = new Y.Map('map');
  map.setConfigure('scrollWheelZoom', true);
  map.setConfigure('enableOpenStreetMap', true);
  map.removeLayerSet(Y.LayerSetId.B1); // 地下街
  var topographicLayerSet = new Y.LayerSet('地形図', [new Y.StyleMapLayer('topographic')]);
  map.addLayerSet('MyTopographicLayerSet', topographicLayerSet);
  map.addControl(new Y.LayerSetControl());
  map.addControl(new Y.ZoomControl());
//  map.addControl(new Y.SliderZoomControlVertical());
  map.addControl(new Y.ScaleControl());
  map.drawMap(new Y.LatLng(param.lat, param.lon), param.zoom, 'MyTopographicLayerSet');
  var layer = new Y.GeoXmlLayer(param.url);
  map.addLayer(layer);
  layer.execute();
});
</script>
</body>
</html>
