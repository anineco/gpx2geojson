<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Leaflet版ルート地図</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
  integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
  crossorigin="">
<style>
#map {
  width: 640px;
  height: 480px;
}
.leaflet-popup h2 {
  margin: 0;
  padding: 0 2em 0 0;
  font-size: 12px;
  font-weight: bold;
  color: red;
}
.leaflet-popup td {
  font-size: 12px;
  padding: 0;
}
.leaflet-popup td:first-child {
  padding-right: 1em;
  color: blue;
}
</style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
  integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
  crossorigin=""></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-plugins/3.0.3/layer/vector/KML.min.js"
  integrity="sha256-rdhg2NTrgTzWKSR56WTaeowiaLCWQ3vuJTYBuA9dc7I=" crossorigin="anonymous"></script>
<script>
window.addEventListener('DOMContentLoaded', function() {
  var param = {
    div: 'map',
    lon: 138.723460, lat: 35.931374, zoom: 13,
    url: 'example/routemap.kml'
  };
  var map = L.map(param.div, {
    center: [param.lat, param.lon],
    zoom: param.zoom
  });
  var std = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
    attribution: '<a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">地理院タイル</a>'
  }).addTo(map);
  var pale = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/pale/{z}/{x}/{y}.png', {
    attribution: '<a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">地理院タイル</a>'
  });
  var ort = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg', {
    attribution: '<a href="https://maps.gsi.go.jp/development/ichiran.html" target="_blank">地理院タイル</a>'
  });
  var kml = new L.KML(param.url).addTo(map);
  L.control.layers(
    { '標準地図': std, '淡色地図': pale, '写真': ort },
    { 'GPSデータ': kml }
  ).addTo(map);
  L.control.scale({ imperial: false, metric: true }).addTo(map);
});
</script>
</body>
</html>
